Version 4
SHEET 1 2660 680
WIRE -1728 -240 -1968 -240
WIRE -1296 -240 -1728 -240
WIRE -1072 -240 -1296 -240
WIRE -688 -240 -1072 -240
WIRE -384 -240 -688 -240
WIRE -80 -240 -384 -240
WIRE 160 -240 -80 -240
WIRE 368 -240 160 -240
WIRE 160 -224 160 -240
WIRE 368 -224 368 -240
WIRE -384 -208 -384 -240
WIRE -1296 -128 -1296 -176
WIRE -1072 -128 -1072 -176
WIRE -384 -128 -384 -144
WIRE 160 -112 160 -160
WIRE 368 -112 368 -160
WIRE -688 -96 -688 -240
WIRE -80 -96 -80 -240
WIRE -80 0 -80 -16
WIRE -80 0 -160 0
WIRE -80 32 -80 0
WIRE -384 64 -384 -64
WIRE 160 64 160 -48
WIRE 368 64 368 -48
WIRE -1968 96 -1968 -240
WIRE -1728 96 -1728 -240
WIRE -688 112 -688 -16
WIRE -448 112 -688 112
WIRE 32 112 -80 112
WIRE 96 112 32 112
WIRE 304 112 96 112
WIRE -1296 144 -1296 -64
WIRE -1072 144 -1072 -64
WIRE -1728 192 -1728 176
WIRE -1424 192 -1728 192
WIRE -1360 192 -1424 192
WIRE -1136 192 -1360 192
WIRE -688 192 -688 112
WIRE -1968 208 -1968 176
WIRE -1424 240 -1424 192
WIRE -560 240 -624 240
WIRE -384 240 -384 160
WIRE -384 240 -480 240
WIRE -80 240 -80 112
WIRE -80 240 -96 240
WIRE -1728 288 -1728 272
WIRE -1632 288 -1728 288
WIRE -1488 288 -1552 288
WIRE -384 288 -384 240
WIRE -160 288 -160 0
WIRE -1728 304 -1728 288
WIRE -1296 304 -1296 240
WIRE -1072 304 -1072 240
WIRE 32 304 32 112
WIRE -96 352 -96 336
WIRE -32 352 -96 352
WIRE -96 368 -96 352
WIRE 160 368 160 160
WIRE 368 368 368 160
WIRE -1728 416 -1728 384
WIRE -1424 416 -1424 336
WIRE -1296 416 -1296 384
WIRE -1072 416 -1072 384
WIRE -688 416 -688 288
WIRE -384 416 -384 368
WIRE -96 480 -96 448
WIRE 32 480 32 400
WIRE 160 480 160 448
WIRE 368 480 368 448
FLAG -1968 208 0
FLAG -1728 416 0
FLAG -1424 416 0
FLAG -1296 416 0
FLAG -1072 416 0
FLAG -96 480 0
FLAG 32 480 0
FLAG 160 480 0
FLAG 368 480 0
FLAG -384 416 0
FLAG -688 416 0
SYMBOL voltage -1968 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 0
SYMBOL res -1744 80 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res -1744 176 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res -1744 288 R0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL npn -1488 240 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL npn -1360 144 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL res -1312 288 R0
SYMATTR InstName R4
SYMATTR Value 33
SYMBOL LED -1312 -128 R0
SYMATTR InstName D2
SYMATTR Value NSCW100
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED -1312 -240 R0
SYMATTR InstName D3
SYMATTR Value NSCW100
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL npn -1136 144 R0
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL res -1088 288 R0
SYMATTR InstName R5
SYMATTR Value 33
SYMBOL LED -1088 -128 R0
SYMATTR InstName D5
SYMATTR Value NSCW100
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED -1088 -240 R0
SYMATTR InstName D6
SYMATTR Value NSCW100
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -96 -112 R0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res -112 352 R0
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL npn -32 304 R0
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL npn 96 64 R0
SYMATTR InstName Q5
SYMATTR Value 2N3904
SYMBOL res 144 352 R0
SYMATTR InstName R9
SYMATTR Value 29
SYMBOL LED 144 -112 R0
SYMATTR InstName D1
SYMATTR Value NSCW100
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED 144 -224 R0
SYMATTR InstName D4
SYMATTR Value NSCW100
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL npn -160 240 R0
SYMATTR InstName Q6
SYMATTR Value 2N3904
SYMBOL npn 304 64 R0
SYMATTR InstName Q7
SYMATTR Value 2N3904
SYMBOL res 352 352 R0
SYMATTR InstName R7
SYMATTR Value 29
SYMBOL LED 352 -112 R0
SYMATTR InstName D7
SYMATTR Value NSCW100
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED 352 -224 R0
SYMATTR InstName D8
SYMATTR Value NSCW100
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -96 16 R0
SYMATTR InstName R10
SYMATTR Value 4
SYMBOL res -1536 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 0.1
SYMBOL npn -448 64 R0
SYMATTR InstName Q11
SYMATTR Value 2N3904
SYMBOL npn -624 192 M0
SYMATTR InstName Q12
SYMATTR Value 2N3904
SYMBOL res -400 272 R0
SYMATTR InstName R17
SYMATTR Value 38
SYMBOL res -704 -112 R0
SYMATTR InstName R18
SYMATTR Value 10k
SYMBOL LED -400 -208 R0
SYMATTR InstName D14
SYMATTR Value NSSWS108T
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED -400 -128 R0
SYMATTR InstName D15
SYMATTR Value NSSWS108T
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -464 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 10k
TEXT -2168 304 Left 2 !.dc V1 10 15
TEXT -144 584 Left 2 ;Zero-gain amplifier around Q6, keeps base-collector voltage of Q4 constant.\nThat is an improvement over using R2.
TEXT -1744 480 Left 2 ;Can be useful in case where multiple parallel strings need to be controlled.\nAdding R11 doesn't make much difference.
TEXT -616 -296 Left 4 ;Better
TEXT 144 -304 Left 4 ;Best
TEXT -1256 -296 Left 4 ;Good
