Version 4
SHEET 1 1300 680
WIRE 160 -144 32 -144
WIRE 384 -144 160 -144
WIRE 528 -144 384 -144
WIRE 384 -96 384 -144
WIRE 528 -96 528 -144
WIRE 384 0 384 -16
WIRE 384 0 272 0
WIRE 160 16 160 -144
WIRE 384 16 384 0
WIRE 528 32 528 -16
WIRE 272 96 272 0
WIRE 528 96 528 32
WIRE 160 128 160 96
WIRE 240 128 160 128
WIRE 384 128 384 96
WIRE 496 128 384 128
WIRE 32 144 32 -144
WIRE 160 144 160 128
WIRE 384 144 384 128
WIRE 32 272 32 224
WIRE 160 272 160 224
WIRE 272 272 272 160
WIRE 384 272 384 224
WIRE 528 272 528 160
FLAG 32 272 0
FLAG 160 272 0
FLAG 272 272 0
FLAG 384 272 0
FLAG 528 272 0
FLAG 528 32 Vout
SYMBOL voltage 32 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 0
SYMBOL res 144 0 R0
SYMATTR InstName R1
SYMATTR Value 15k
SYMBOL res 144 128 R0
SYMATTR InstName R2
SYMATTR Value 4.7k
SYMBOL res 368 0 R0
SYMATTR InstName R3
SYMATTR Value 56k
SYMBOL res 368 128 R0
SYMATTR InstName R4
SYMATTR Value 20k
SYMBOL res 368 -112 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL Parts_TCO\\TLV431 272 128 M0
SYMATTR InstName U1
SYMBOL Parts_TCO\\TLV431 528 128 M0
SYMATTR InstName U2
SYMBOL res 512 -112 R0
SYMATTR InstName R6
SYMATTR Value 1k
TEXT -192 192 Left 2 !.dc v1 0 10 0.01
TEXT 40 -352 Left 2 ;Window comparator for 4.8V < 5V < 5.2V.\nBy adding R5, which is a small fraction of R3, the error introduced by the cathode current of U1 is minimized.\nDon't chose R5 too small.  U1 should still be able to cope with the cathode current when it's fully conducting.
TEXT 48 -264 Left 2 ;R5 is 2% of R3 in this case.
