Version 4
SHEET 1 2240 868
WIRE 1632 -384 -688 -384
WIRE -688 -224 -688 -384
WIRE -528 -224 -688 -224
WIRE -368 -224 -432 -224
WIRE -256 -224 -368 -224
WIRE -160 -224 -256 -224
WIRE -48 -224 -160 -224
WIRE 192 -224 -48 -224
WIRE 320 -224 192 -224
WIRE 528 -224 320 -224
WIRE 944 -224 528 -224
WIRE -48 -192 -48 -224
WIRE -368 -176 -368 -224
WIRE -256 -176 -256 -224
WIRE -160 -176 -160 -224
WIRE 320 -144 320 -224
WIRE -448 -80 -448 -176
WIRE -368 -80 -368 -96
WIRE -368 -80 -448 -80
WIRE 528 -80 528 -224
WIRE 1632 -80 1632 -384
WIRE -448 -64 -448 -80
WIRE -256 -32 -256 -96
WIRE -256 -32 -416 -32
WIRE 320 -32 320 -64
WIRE 464 -32 320 -32
WIRE -256 -16 -256 -32
WIRE 944 0 944 -224
WIRE 880 48 768 48
WIRE 320 80 320 -32
WIRE 528 80 528 16
WIRE 1632 80 1632 0
WIRE -448 96 -448 0
WIRE -256 96 -256 64
WIRE -160 96 -160 -112
WIRE 944 160 944 96
WIRE 1424 160 944 160
WIRE 1584 160 1424 160
WIRE 192 176 192 -224
WIRE -688 192 -688 -224
WIRE -624 192 -688 192
WIRE -352 192 -624 192
WIRE -160 192 -272 192
WIRE 160 192 -160 192
WIRE 272 208 224 208
WIRE 320 208 320 160
WIRE 320 208 272 208
WIRE 944 208 944 160
WIRE -48 224 -48 -112
WIRE 160 224 -48 224
WIRE 528 256 528 160
WIRE 768 256 768 48
WIRE 768 256 528 256
WIRE 880 256 768 256
WIRE -688 272 -688 192
WIRE 192 288 192 240
WIRE -160 304 -160 192
WIRE 528 320 528 256
WIRE 1424 336 1424 160
WIRE -48 368 -48 224
WIRE 144 368 -48 368
WIRE 320 368 320 208
WIRE 320 368 224 368
WIRE -48 416 -48 368
WIRE -688 560 -688 352
WIRE -160 560 -160 384
WIRE -160 560 -688 560
WIRE -48 560 -48 496
WIRE -48 560 -160 560
WIRE 528 560 528 400
WIRE 528 560 -48 560
WIRE 944 560 944 304
WIRE 944 560 528 560
WIRE 1424 560 1424 400
WIRE 1424 560 944 560
WIRE 1632 560 1632 176
WIRE 1632 560 1424 560
WIRE -688 576 -688 560
FLAG 192 288 0
FLAG -688 576 0
FLAG -448 96 0
FLAG -256 96 0
FLAG -160 96 0
FLAG -624 192 MOTOR
FLAG 272 208 OC
DATAFLAG 64 192 ""
DATAFLAG 64 -224 ""
DATAFLAG 48 224 ""
SYMBOL Parts_TCO\\TS391 192 144 R0
SYMATTR InstName U1
SYMBOL voltage -688 256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PWL(0 40 100u 60 200u 60 300u 48)
SYMBOL res -64 -208 R0
SYMATTR InstName R1
SYMATTR Value 4.7k
SYMBOL res -64 400 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res -256 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 120k
SYMBOL res -144 400 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 30k
SYMBOL nmos 1584 80 R0
SYMATTR InstName M2
SYMATTR Value SP8K31
SYMBOL res 1616 -96 R0
SYMATTR InstName Rheater
SYMATTR Value 10
SYMBOL Parts_TCO\\TLV431 -448 -32 R0
SYMATTR InstName U2
SYMBOL Parts_TCO\\BSS169 -528 -176 R270
SYMATTR InstName U3
SYMBOL res -384 -192 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res -272 -192 R0
SYMATTR InstName R8
SYMATTR Value 91k
SYMBOL res -272 -32 R0
SYMATTR InstName R9
SYMATTR Value 8.2k
SYMBOL cap -176 -176 R0
SYMATTR InstName C2
SYMATTR Value 10µ
SYMBOL res 240 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 270k
SYMBOL res 304 64 R0
SYMATTR InstName R3
SYMATTR Value 91k
SYMBOL res 512 304 R0
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL res 304 -160 R0
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL cap 1408 336 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL pnp 880 304 M180
SYMATTR InstName Q2
SYMATTR Value 2N5401
SYMBOL npn 880 0 R0
SYMATTR InstName Q3
SYMATTR Value 2N5550
SYMBOL res 512 64 R0
SYMATTR InstName R10
SYMATTR Value 0.01
SYMBOL pnp 464 16 M180
SYMATTR InstName Q1
SYMATTR Value 2N5401
TEXT -720 600 Left 2 !.tran 300u
TEXT -528 592 Left 2 ;Circuit around U3 is a disrete 15V LDO.  It has a decent PSRR, which prevents the \nin- threshold to shift when the motor voltage rises.\nBy supplying the comparator with 15V instead of 5V, a much higher input common mode\nrange is possible.  This avoids having to divide the motor voltage too far down and allows for\na tighter threshold control on the motor voltage.\n \nQ2, Q3 is a voltage buffer.  Can use MMBT5551 and MMBT5401.\nAlternatively, use a 5V buffer and adjust voltage divider R10/R11.
TEXT 1056 600 Left 2 ;C1 should not be placed in the actual schematic.\nIt's only here to simulate large capacitive loading.
