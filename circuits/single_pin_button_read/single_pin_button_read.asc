Version 4
SHEET 1 1204 764
WIRE 272 -640 64 -640
WIRE 64 -592 64 -640
WIRE 64 -480 64 -512
WIRE 272 -432 272 -640
WIRE 32 -336 -256 -336
WIRE 272 -336 272 -352
WIRE 272 -336 32 -336
WIRE 416 -336 272 -336
WIRE 624 -336 496 -336
WIRE 432 -288 416 -288
WIRE 496 -288 480 -288
WIRE 416 -192 416 -288
WIRE 496 -192 496 -288
WIRE 272 -80 272 -336
WIRE 32 16 32 -336
WIRE 128 16 32 16
WIRE 272 16 272 0
WIRE 272 16 192 16
WIRE 416 16 272 16
WIRE 624 16 624 -336
WIRE 624 16 496 16
WIRE 272 32 272 16
WIRE 432 64 416 64
WIRE 496 64 480 64
WIRE 416 144 416 64
WIRE 496 144 496 64
WIRE 32 336 32 16
WIRE 128 336 32 336
WIRE 272 336 272 112
WIRE 272 336 192 336
WIRE 416 336 272 336
WIRE 624 336 624 16
WIRE 624 336 496 336
WIRE 432 384 384 384
WIRE 544 384 480 384
WIRE 384 464 384 384
WIRE 416 464 384 464
WIRE 544 464 544 384
WIRE 544 464 496 464
WIRE 624 592 624 336
FLAG 64 -480 0
FLAG -256 -336 SNS_BUTTON
FLAG 624 592 0
SYMBOL voltage 64 -608 R0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL res 256 -448 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 256 -96 R0
SYMATTR InstName R2
SYMATTR Value 5.1k
SYMBOL res 256 16 R0
SYMATTR InstName R3
SYMATTR Value 15k
SYMBOL voltage 400 464 R270
WINDOW 3 -61 -150 VRight 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 1m 1n 1n 30m)
SYMATTR InstName V2
SYMBOL cap 192 0 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL sw 512 -336 M270
SYMATTR InstName S2
SYMATTR Value MYSW
SYMBOL sw 512 16 M270
SYMATTR InstName S3
SYMATTR Value MYSW
SYMBOL sw 512 336 M270
SYMATTR InstName S4
SYMATTR Value MYSW
SYMBOL voltage 400 144 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 5 50m 1n 1n 30m)
SYMBOL voltage 400 -192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 5 100m 1n 1n 30m)
SYMBOL cap 192 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1µ
TEXT -40 592 Left 2 !.model MYSW SW(Ron=1 Roff=1Meg Vt=2 Vh=0.2)
TEXT -40 624 Left 2 !.tran 250m
TEXT -1040 344 Left 2 ;SNS_BUTTON is connected to an ADC input of the MCU.\nThis ADC-input can also be configured to wake-up the MCU at a falling edge.\nPushing the button, while C1 is discharged, a falling-edge is generated.\nAfter a few milliseconds, C1 is discharged through R2 (& R3).  From then on, the DC-level on the pin is reached\nand the ADC-can be used to read the voltage level.\nBy adding capacitors and resistors, more buttons could be read.\nAs there's no current path to ground when no buttons are pushed, this circuit doesn't cause any leakage.
TEXT -1040 544 Left 2 ;R1, R2 and R3 are so chosen to get : 0V, 1/3VCC and 2/3VCC on SNS_BUTTON when\nbuttons are pushed.  So the different states are as far apart as possible.
