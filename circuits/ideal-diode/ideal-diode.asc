Version 4
SHEET 1 1724 680
WIRE 48 -80 -144 -80
WIRE 208 -80 48 -80
WIRE 624 -80 304 -80
WIRE 848 -80 624 -80
WIRE 624 -48 624 -80
WIRE 48 -32 48 -80
WIRE 48 48 48 32
WIRE 144 48 48 48
WIRE 624 48 624 16
WIRE 624 48 416 48
WIRE 48 80 48 48
WIRE 624 80 624 48
WIRE -144 112 -144 -80
WIRE 848 112 848 -80
WIRE 144 128 112 128
WIRE 416 128 144 128
WIRE 560 128 416 128
WIRE 48 208 48 176
WIRE 144 208 144 128
WIRE 144 208 48 208
WIRE 288 208 288 -32
WIRE 624 208 624 176
WIRE 624 208 288 208
WIRE 48 240 48 208
WIRE 624 240 624 208
WIRE -144 368 -144 192
WIRE 48 368 48 320
WIRE 624 368 624 320
WIRE 848 368 848 192
FLAG -144 368 0
FLAG 48 368 0
FLAG 624 368 0
FLAG 848 368 0
SYMBOL voltage -144 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 6 70)
SYMBOL pmos 208 -32 R270
SYMATTR InstName M1
SYMATTR Value FDC638P
SYMBOL pnp 112 176 R180
SYMATTR InstName Q1
SYMATTR Value BC856B
SYMBOL pnp 560 176 M180
SYMATTR InstName Q2
SYMATTR Value BC856B
SYMBOL res 32 224 R0
SYMATTR InstName R1
SYMATTR Value 22k
SYMBOL res 608 224 R0
SYMATTR InstName R2
SYMATTR Value 68k
SYMBOL voltage 848 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=100
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL schottky 32 -32 R0
SYMATTR InstName D1
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 608 -48 R0
SYMATTR InstName D2
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 128 32 R0
SYMATTR InstName R3
SYMATTR Value 1Meg
SYMBOL res 400 32 R0
SYMATTR InstName R4
SYMATTR Value 1Meg
TEXT -176 392 Left 2 !;dc v1 0 8
TEXT -120 456 Left 2 ;https://wiki.analog.com/university/courses/alm1k/alm-active-rectifiers
TEXT -120 496 Left 2 ;Vgs voltage of M1 is always smaller than V2.\nThat's ok, only very little power is wasted in M1.
TEXT -176 424 Left 2 !.tran 100m
TEXT -120 608 Left 2 ;Ideal diode has lots of leakage through Q2, R1 & R2.
TEXT 944 -88 Left 2 ;D1, D2, R3, R4 increase output voltage range of ideal diode beyond\nbreakdown of BE-junction of Q1.
