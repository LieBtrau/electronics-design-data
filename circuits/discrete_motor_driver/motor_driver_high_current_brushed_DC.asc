Version 4
SHEET 1 2836 1124
WIRE -144 -96 -192 -96
WIRE -48 -96 -144 -96
WIRE 64 -96 -48 -96
WIRE 192 -96 64 -96
WIRE 656 -96 528 -96
WIRE 768 -96 656 -96
WIRE 864 -96 768 -96
WIRE 912 -96 864 -96
WIRE 64 -64 64 -96
WIRE 656 -64 656 -96
WIRE 0 -16 -48 -16
WIRE 768 -16 720 -16
WIRE 192 16 192 -96
WIRE 528 16 528 -96
WIRE 144 32 64 32
WIRE 656 32 576 32
WIRE -48 80 -48 -16
WIRE -48 80 -112 80
WIRE -32 80 -48 80
WIRE 64 80 64 32
WIRE 64 80 32 80
WIRE 656 80 656 32
WIRE 688 80 656 80
WIRE 768 80 768 -16
WIRE 768 80 752 80
WIRE 832 80 768 80
WIRE -176 128 -240 128
WIRE 192 128 192 112
WIRE 320 128 192 128
WIRE 416 128 400 128
WIRE 528 128 528 112
WIRE 528 128 496 128
WIRE 976 128 896 128
WIRE -240 256 -240 208
WIRE 192 272 192 128
WIRE 528 272 528 128
WIRE 1184 272 1184 208
WIRE 128 320 80 320
WIRE 640 320 592 320
WIRE 128 352 128 320
WIRE 144 352 128 352
WIRE 592 352 592 320
WIRE 592 352 576 352
WIRE -336 368 -336 320
WIRE 80 400 80 320
WIRE 640 400 640 320
WIRE 864 464 864 384
WIRE -336 496 -336 448
WIRE 80 608 80 480
WIRE 192 608 192 368
WIRE 368 608 192 608
WIRE 528 608 528 368
WIRE 528 608 368 608
WIRE 640 608 640 480
WIRE 864 608 864 544
WIRE 432 720 400 720
WIRE 672 720 512 720
WIRE 400 736 400 720
WIRE 512 800 512 720
WIRE 544 800 512 800
WIRE 720 816 608 816
WIRE 752 816 752 720
WIRE 752 816 720 816
WIRE 368 832 368 608
WIRE 544 832 368 832
WIRE 368 864 368 832
WIRE 576 944 576 848
FLAG 80 608 0
FLAG -144 -96 VMOTOR
FLAG 640 608 0
FLAG 656 -96 VMOTOR
FLAG -336 496 0
FLAG 864 608 0
FLAG 864 384 VMOTOR
FLAG 368 944 0
FLAG 576 944 0
FLAG 576 784 VMOTOR
FLAG 400 736 0
FLAG 720 816 VSNS
FLAG -112 176 0
FLAG 864 -96 VMOTOR
FLAG 832 176 0
FLAG -240 256 0
FLAG 1184 272 0
FLAG 1056 128 VX
FLAG 80 320 VY
FLAG 1184 128 VY
FLAG -336 320 VX
SYMBOL res 64 496 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 656 496 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 416 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 10
SYMBOL voltage -336 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 3.3 0 1n 1n 25u 50µ)
SYMBOL voltage 864 448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 41 46 Left 2
SYMATTR SpiceLine Rser=0.1
SYMATTR InstName V3
SYMATTR Value 8.4
SYMBOL res 352 848 R0
SYMATTR InstName R12
SYMATTR Value 0.5
SYMBOL ZZZ\\OpAmp\\LM321LV 576 752 R0
SYMATTR InstName U1
SYMBOL res 528 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL res 768 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 3k
SYMBOL nmos 144 272 R0
SYMATTR InstName M1
SYMATTR Value AO6408
SYMBOL nmos 576 272 M0
SYMATTR InstName M2
SYMATTR Value AO6408
SYMBOL ZZZ\\MOS\\AO3415 576 112 R180
SYMATTR InstName U2
SYMBOL ZZZ\\MOS\\AO3415 144 112 M180
SYMATTR InstName U3
SYMBOL res -32 -112 M0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL npn 0 -64 R0
SYMATTR InstName Q1
SYMATTR Value BC846B
SYMBOL schottky 32 64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL npn -176 80 R0
SYMATTR InstName Q2
SYMATTR Value BC846B
SYMBOL res 752 -112 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL npn 720 -64 M0
SYMATTR InstName Q3
SYMATTR Value BC846B
SYMBOL schottky 688 64 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL npn 896 80 M0
SYMATTR InstName Q4
SYMATTR Value BC846B
SYMBOL res 1072 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res -256 112 R0
SYMATTR InstName R5
SYMATTR Value 10K
SYMBOL voltage 1184 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL ind 512 112 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 10µ
TEXT 848 672 Left 2 !.tran 200u
TEXT -416 672 Left 2 ;VMOTOR can be much higher than Vlogic
TEXT -416 728 Left 2 ;Many transistors, requires lots of PCB area.\nLCSC might provide very cheap transistors that \ncan make this design worthwhile: AO3400 & AO3401
TEXT 0 320 Left 2 ;IN1
TEXT 1056 96 Left 2 ;EN_IN1
TEXT 672 320 Left 2 ;IN2
TEXT -288 96 Left 2 ;EN_IN2
