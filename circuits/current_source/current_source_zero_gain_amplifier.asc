Version 4
SHEET 1 1132 680
WIRE 192 -80 0 -80
WIRE 480 -80 192 -80
WIRE 192 48 192 -80
WIRE 128 96 80 96
WIRE 480 112 480 0
WIRE 0 160 0 -80
WIRE 192 160 192 144
WIRE 416 160 192 160
WIRE 192 192 192 160
WIRE 0 288 0 240
WIRE 80 288 80 96
WIRE 192 288 192 272
WIRE 192 288 80 288
WIRE 480 336 480 208
WIRE 192 352 192 288
WIRE 192 480 192 432
WIRE 480 480 480 416
FLAG 0 288 0
FLAG 192 480 0
FLAG 480 480 0
SYMBOL voltage 0 144 R0
SYMATTR InstName V1
SYMATTR Value 0
SYMBOL pnp 128 144 M180
SYMATTR InstName Q1
SYMATTR Value BC856B
SYMBOL pnp 416 208 M180
SYMATTR InstName Q2
SYMATTR Value BC856B
SYMBOL res 208 176 M0
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL res 176 336 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 464 -96 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res 464 320 R0
SYMATTR InstName R4
SYMATTR Value 82k
TEXT -32 504 Left 2 !.dc V1 0 5 0.1
TEXT -16 -152 Left 2 ;https://wiki.analog.com/university/courses/electronics/text/chapter-11
TEXT -8 -240 Left 2 ;Maximum load resistance = about 82K for 3.3V supply voltage.\nThe output voltage is then around 2.5V, which falls within the linear part of the ESP32 ADC range.
TEXT 488 272 Left 2 ;30µA current output
